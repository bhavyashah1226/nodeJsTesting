// Test generated by RoostGPT for test nodeJsTest1 using AI Type Azure Open AI and AI Model roost-gpt4-32k

import {
  generateTestCase
} from '../postmanCollectionProcessor.js';

describe('postmanCollectionProcessor', () => {

  beforeEach(() => {
    jest.clearAllMocks();
  });

  test('generateTestCase Success', async () => {
    const testScript = '';
    const responseObj = { "code": 200, "name": "OK", "status": "OK" };
    const methodType = 'GET';
    const swaggerObj = {};
    const swaggerContent = '';

    const result = await generateTestCase(
      testScript, 
      responseObj, 
      methodType, 
      swaggerObj,
      swaggerContent);
  
    expect(result).toContain('pm.test("OK", function ()');
    expect(result).toContain('pm.expect(pm.response.status).to.be.eql("OK")');
    expect(result).toContain('pm.expect(pm.response.responseTime).to.be.below(800)');

  });

  test('generateTestCase Failure', async () => {
    const testScript = '';
    const responseObj = { "code": 400, "name": "Bad Request", "status": "Error" };
    const methodType = 'GET';
    const swaggerObj = {};
    const swaggerContent = '';

    const result = await generateTestCase(
      testScript, 
      responseObj, 
      methodType, 
      swaggerObj,
      swaggerContent);

    expect(result).toContain('pm.test("Bad Request", function ()');
    expect(result).toContain('pm.expect(pm.response.status).to.be.eql("Error")');
    expect(result).toContain('pm.expect(pm.response.responseTime).to.be.below(800)');

  });

});
